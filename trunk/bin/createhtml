#!/bin/sh

cd ../yo

echo 1>&2 "
Construct html files from `pwd`.
Converting .yo to .html
"

yodl2html  --no-warnings -l3 cplusplus

[ $? == 0 ] || (echo html conversion failed; exit 1)

echo 1>&2 "
Moving .html files to ../html
"

mv *.html ../html

cd ../html

echo 1>&2 "
Removing extra blank lines around <pre> ... </pre> tags.
"

../bin/patchhtmlpre

echo 1>&2 "
Constructing contentspage in `pwd`.
"

../bin/htmlcontentspage > contents.html

echo 1>&2 "
Constructing the html-index.
"

../bin/htmlindex                    # construct index page

[ $? == 0 ] || (echo index construction not without errors; exit 1)


echo 1>&2 "
Removing <index ...> entries from cplusplusXX.html files.
"

../bin/patchhtmlindexentries

echo 1>&2 "
Ready to zip it up
"
